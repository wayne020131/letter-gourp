<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./grid/simple-grid.css">
    <link rel="stylesheet" href="https://npmcdn.com/leaflet@0.7.7/dist/leaflet.css" />
    <link rel="stylesheet" href="./reset.css">
    <script src="https://npmcdn.com/leaflet@0.7.7/dist/leaflet.js"></script>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./hamburgers-master/dist/hamburgers.css">
<style>
html, body{
  /* width: 100%;
  height: 100%;
  padding: 0;
  margin: 0; */
}
#map{
    height: 400px;
    background: #333;
    display: inline-block;
    width: 700px;
    /* width: 70%; */
}
.wrap{
    /* display: flex; */
    /* max-width: 1200px;
    width: 100%; */

}
label{
    display: inline-block;
    width: 70px;
}
select{
    width: 120px;
}
#weatherbox{
    display: inline-block;
    vertical-align: top;
}
.infos{
    display: inline-block;
    max-width: 400px;
    width: 100%;
    text-align: center;
    border: 1px solid red;
}
.temp{
    border: 1px solid blue;
    display: inline-block;
    padding: .5rem 0;
    width: 45%;
}
.pre{
    border: 1px solid green;
    display: inline-block;
    padding: 1rem 0 0 0;
    vertical-align: top;
}
.RH{
    margin-top: 10px;
}
.weatherweek{
    display: flex;
    text-align: center;
    justify-content: space-evenly;
    border: 1px solid red;
}
.NowT{
    /* display: inline-block; */
}
.NowT>p{
    display: inline-block;
    font-size: 3rem;
    border: 1px solid green;
    margin: 0;
    padding: 0 0 20px 0;
}
.weatherweek p{
    padding: .5rem;
}

</style>
</head>
<body>
    <header >
        <div class="forphone">
        <button class="hamburger hamburger--spring" type="button">
            <span class="hamburger-box">
                <span class="hamburger-inner"></span>
            </span>
        </button>
        </div>
        <nav class="wrap">
            <h1 class="nav_logo">
                <a href="#">
                    <img class="desk" src="./pic/電腦版_header.svg">
                    <img class="phone" src="./pic/手機_header.svg">
                </a>
            </h1>
            <div class="nav_list">
                <ul >
                    <li><a class="nav_title" href="#">揪團露營</a></li>
                    <li><a class="nav_title" href="#">設備交換</a></li>
                    <li><a class="nav_title" href="#" >營區攻略</a></li>
                    <li><a class="nav_title" href="#">來去寫信</a></li>
                    <li><a class="nav_title" href="#">關於我們</a></li>
                    <li><a class="nav_title" href="#">登入|註冊</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <section class="section1">
        <div class="wrap">
            <div id="weatherbox">
                <div class="weather">
                    <div class="weathernow">
                        <div class="search">
                            <label for="">地區</label>
                            <select name="" id="" placeholder="--請選擇--">
                                <option value="1">北</option>
                                <option value="2">中</option>
                                <option value="3">南</option>
                                <option value="4">東</option>
                            </select>
                            <label for="">縣市</label>
                            <select name="" id="">
                                <option value="">新北市</option>
                                <option value="">桃園市</option>
                                <option value="">新竹縣</option>
                            </select>
                        </div>
                        <div class="infos">
                            <div class="temp">
                                <div class="NowT">
                                    <p>22oC</p>
                                </div>
                                <div class="TtoT">
                                    <span id=MinT>19oC</span>~
                                    <span id=MaxT>23oC</span>
                                </div>
                            </div>
                            <div class="pre">
                                <div class="PoP">
                                    降雨機率
                                    <p id="PoP">20%</p>
                                </div>
                                <div class="RH">
                                    相對溼度
                                    <p id="RH">78%</p>
                                </div>
                            </div>
                        </div>
                        <div class="weatherweek">
                            <div class="day1">
                                <p id="date1">09</p>
                                <p id="LowT">20oC</p>
                                <p id="HightT">22oC</p>
                            </div>
                            <div class="day2">
                                <p id="date2">09</p>
                                <p id="LowT">20oC</p>
                                <p id="HightT">22oC</p>
                            </div>
                            <div class="day3">
                                <p id="date3">09</p>
                                <p id="LowT">20oC</p>
                                <p id="HightT">22oC</p>
                            </div>
                            <div class="day4">
                                <p id="date4">09</p>
                                <p id="LowT">20oC</p>
                                <p id="HightT">22oC</p>
                            </div>
                            <div class="day5">
                                <p id="date5">09</p>
                                <p id="LowT">20oC</p>
                                <p id="HightT">22oC</p>
                            </div>
                            <div class="day6">
                                <p id="date6">09</p>
                                <p id="LowT">20oC</p>
                                <p id="HightT">22oC</p>
                            </div>
                            <div class="day7">
                                <p id="date7">09</p>
                                <p id="LowT">20oC</p>
                                <p id="HightT">22oC</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="weatherdesc">
                    <p id="weatherp"></p>
                </div>
            </div>
            
            <div id="map"></div>
        </div>
    </section>

    <footer>
        <div class="footer_bgc">
            <div class="wrap">
                <div class="footerarrange">
                    <div class="footright">
                        <div class="level2 green1">聯絡資訊 |</div>
                        <div class="level0 green1">
                            電子信箱|ShanSen@gmail.com<br>
                            營業時間|週二至週日 10:00~20:00(國定假日休假)
                        </div>
    
                    </div>
                    <div class="footercenter">
                        <a href="#">
                            <img src="./pic/電腦版_header.svg">
                        </a>
                    </div>
                    <div class="footerright">
                        <div class="level2 green1">相關連結 |</div>
                        <div class="footer_icon">
                            <img src="./pic/foot_line.svg" alt="">
                            <img src="./pic/foot_ig.svg" alt="">
                            <img src="./pic/foot_fb.svg" alt="">
                            <img src="./pic/foot_email.svg" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="level1 copyright">Copyright &copy; 2020ShanSen</div>
    </footer>

    <script>
        var map;

        map =L.map('map', {
                center: [24.0766317,120.9852215], // 中心點座標
                zoom: 10, // 0 - 18
                attributionControl: true, // 是否秀出「leaflet」的貢獻標記
                zoomControl: true , // 是否秀出 - + 按鈕
                });
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);


        //建立地標
        var marker = L.marker([24.0766317,120.9852215]);
        marker.addTo(map);
        marker.bindPopup("<a href=''><img src='https://picsum.photos/50/50?random=1'></a><br> <a href=''>里厚</a>");
        

        //讀取 GeoJSON，加入行政區邊界
        // $.getJSON('https://1999.noob.tw/data/kaohsiung.json', function(r){
        //     L.geoJSON(r, {color: '#333', weight: 0.7}).addTo(map);
        // })
        function onlick(){
            $(marker).openPopup();
        }

    </script>
    <script src="https://unpkg.com/jquery"></script>
    <script>
                // 北1塔曼山 + 北3雪白山
        // 桃園市復興鄉
        let N1N3data;
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-007?Authorization=CWB-D1804819-48C7-4205-BD5F-052ACB018375&format=JSON&locationName=%E5%BE%A9%E8%88%88%E5%8D%80&elementName=MinT,MaxT,Wind,Td,PoP12h,T,RH,Wx,WeatherDescription",
                dataType: "json",
                error: function (e) {
                    // console.log('oh no');
                },
                success: function (N1N3) {
                    // console.log(N1N3)
                    N1N3data = N1N3 ;
                }
            });
        });
        // 北2七星山
        // 台北市北投區
        let N2data;
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-063?Authorization=CWB-D1804819-48C7-4205-BD5F-052ACB018375&format=JSON&locationName=%E5%8C%97%E6%8A%95%E5%8D%80&elementName=MinT,MaxT,Wind,Td,PoP12h,T,RH,Wx,WeatherDescription",
                dataType: "json",
                error: function (e) {
                    // console.log('oh no');
                },
                success: function (N2) {
                    // console.log(N2)
                    N2data= N2 ;
                }
            });
        });
        // 北4大霸尖山 + 中2橫山
        // 新竹縣尖石鄉 + 橫山鄉
        let N4W2data;
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-011?Authorization=CWB-D1804819-48C7-4205-BD5F-052ACB018375&format=JSON&locationName=%E5%B0%96%E7%9F%B3%E9%84%89,%E6%A9%AB%E5%B1%B1%E9%84%89&elementName=MinT,MaxT,Wind,Td,PoP12h,T,RH,Wx,WeatherDescription",
                dataType: "json",
                error: function (e) {
                    // console.log('oh no');
                },
                success: function (N4W2) {
                    // console.log(N4W2)
                    N4W2data = N4W2;
                }
            });
        });
        // 中1五步哭山
        // 新竹縣東區
        let W1data;
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-055?Authorization=CWB-D1804819-48C7-4205-BD5F-052ACB018375&format=JSON&locationName=%E6%9D%B1%E5%8D%80&elementName=MinT,MaxT,Wind,Td,PoP12h,T,RH,Wx,WeatherDescription",
                dataType: "json",
                error: function (e) {
                    // console.log('oh no');
                },
                success: function (W1) {
                    // console.log(W1)
                    W1data = W1 ;
                }
            });
        });
        // 中3石壁山
        // 雲林縣古坑鄉
        let W3data;
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-027?Authorization=CWB-D1804819-48C7-4205-BD5F-052ACB018375&format=JSON&locationName=%E5%8F%A4%E5%9D%91%E9%84%89&elementName=MinT,MaxT,Wind,Td,PoP12h,T,RH,Wx,WeatherDescription",
                dataType: "json",
                error: function (e) {
                    // console.log('oh no');
                },
                success: function (W3) {
                    // console.log(W3)
                    W3data = W3 ;
                }
            });
        });
        // 中4雪山 + 東3南湖東峰
        // 臺中市和平區
        let W4E3data;
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-075?Authorization=CWB-D1804819-48C7-4205-BD5F-052ACB018375&format=JSON&locationName=%E5%92%8C%E5%B9%B3%E5%8D%80&elementName=MinT,MaxT,Wind,Td,PoP12h,T,RH,Wx,WeatherDescription",
                dataType: "json",
                error: function (e) {
                    // console.log('oh no');
                },
                success: function (W4E3) {
                    // console.log(W4E3)
                    W4E3data = W4E3 ;
                }
            });
        });
        // 南1紅毛埤
        // 嘉義市東區
        let S1data;
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-059?Authorization=CWB-D1804819-48C7-4205-BD5F-052ACB018375&format=JSON&locationName=%E6%9D%B1%E5%8D%80&elementName=MinT,MaxT,Wind,Td,PoP12h,T,RH,Wx,WeatherDescription",
                dataType: "json",
                error: function (e) {
                    // console.log('oh no');
                },
                success: function (S1) {
                    // console.log(S1)
                    S1data = S1 ;
                }
            });
        });
        // 南2大凍山
        // 嘉義縣竹崎鄉
        let S2data;
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-031?Authorization=CWB-D1804819-48C7-4205-BD5F-052ACB018375&format=JSON&locationName=%E7%AB%B9%E5%B4%8E%E9%84%89&elementName=MinT,MaxT,Wind,Td,PoP12h,T,RH,Wx,WeatherDescription",
                dataType: "json",
                error: function (e) {
                    // console.log('oh no');
                },
                success: function (S2) {
                    // console.log(S2)
                    S2data = S2 ;
                }
            });
        });
        // 南3北大武山
        // 屏東縣泰武鄉
        let S3data;
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-035?Authorization=CWB-D1804819-48C7-4205-BD5F-052ACB018375&format=JSON&locationName=%E6%B3%B0%E6%AD%A6%E9%84%89&elementName=MinT,MaxT,Wind,Td,PoP12h,T,RH,Wx,WeatherDescription",
                dataType: "json",
                error: function (e) {
                    // console.log('oh no');
                },
                success: function (S3) {
                    // console.log(S3)
                    S3data = S3 ;
                }
            });
        });
        // 南4玉山 + 東4秀姑巒山
        // 南投縣信義鄉
        let S4E4data;
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-023?Authorization=CWB-D1804819-48C7-4205-BD5F-052ACB018375&format=JSON&locationName=%E4%BF%A1%E7%BE%A9%E9%84%89&elementName=MinT,MaxT,Wind,Td,PoP12h,T,RH,Wx,WeatherDescription",
                dataType: "json",
                error: function (e) {
                    // console.log('oh no');
                },
                success: function (S4E4) {
                    // console.log(S4E4)
                    S4E4data = S4E4 ;
                }
            });
        });
        // 東1五分山
        // 新北市瑞芳區
        let E1data;
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-071?Authorization=CWB-D1804819-48C7-4205-BD5F-052ACB018375&format=JSON&locationName=%E7%91%9E%E8%8A%B3%E5%8D%80&elementName=MinT,MaxT,Wind,Td,PoP12h,T,RH,Wx,WeatherDescription",
                dataType: "json",
                error: function (e) {
                    // console.log('oh no');
                },
                success: function (E1) {
                    // console.log(E1)
                    E1data = E1 ;
                }
            });
        });
        // 東2關山
        // 臺東縣海端鄉
        let E2data;
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-039?Authorization=CWB-D1804819-48C7-4205-BD5F-052ACB018375&format=JSON&locationName=%E6%B5%B7%E7%AB%AF%E9%84%89&elementName=MinT,MaxT,Wind,Td,PoP12h,T,RH,Wx,WeatherDescription",
                dataType: "json",
                error: function (e) {
                    // console.log('oh no');
                },
                success: function (E2) {
                    // console.log(E2)
                    E2data = E2;
                }
            });
        });

        let AreaDataArray = ["N1N3data", "N2data", "N4W2data","W1data","W3data","W4E3data","S1data","S2data","S3data","S4E4data","E1data","E2data"];

        function RenderWeather(AreaData){
            // 天氣敘述
            $id('weatherp').innerHTML = AreaData.records.locations[0].location[0].weatherElement[5].time[0].elementValue[0].value
            // 渲染日期 
            $id('date1').innerText = AreaData.records.locations[0].location[0].weatherElement[0].time[1].startTime.slice(8,10);
            $id('date2').innerText = AreaData.records.locations[0].location[0].weatherElement[0].time[3].startTime.slice(8,10);
            $id('date3').innerText = AreaData.records.locations[0].location[0].weatherElement[0].time[5].startTime.slice(8,10);
            $id('date4').innerText = AreaData.records.locations[0].location[0].weatherElement[0].time[7].startTime.slice(8,10);
            $id('date5').innerText = AreaData.records.locations[0].location[0].weatherElement[0].time[9].startTime.slice(8,10);
            $id('date6').innerText = AreaData.records.locations[0].location[0].weatherElement[0].time[11].startTime.slice(8,10);
            $id('date7').innerText = AreaData.records.locations[0].location[0].weatherElement[0].time[13].startTime.slice(8,10);
            // 渲染早上平均溫度
            $id('Ttop1').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[1].elementValue[0].value + '°C'
            $id('Ttop2').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[3].elementValue[0].value + '°C'
            $id('Ttop3').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[5].elementValue[0].value + '°C'
            $id('Ttop4').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[7].elementValue[0].value + '°C'
            $id('Ttop5').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[9].elementValue[0].value + '°C'
            $id('Ttop6').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[11].elementValue[0].value + '°C'
            $id('Ttop7').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[13].elementValue[0].value + '°C'
            // 渲染晚上平均溫度
            $id('Tbutton1').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[2].elementValue[0].value + '°C'
            $id('Tbutton2').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[4].elementValue[0].value + '°C'
            $id('Tbutton3').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[6].elementValue[0].value + '°C'
            $id('Tbutton4').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[8].elementValue[0].value + '°C'
            $id('Tbutton5').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[10].elementValue[0].value + '°C'
            $id('Tbutton6').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[12].elementValue[0].value + '°C'
            if (AreaData.records.locations[0].location[0].weatherElement[1].length === 15) {
                $id('Tbutton7').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[14].elementValue[0].value + '°C'
            }   else    {
                $id('Tbutton7').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[13].elementValue[0].value + '°C'
            }
            // 渲染當下溫度、最低溫、最高溫、降雨機率、相對濕度
            $id('NowT').innerText = AreaData.records.locations[0].location[0].weatherElement[1].time[0].elementValue[0].value + '°C'
            $id('MinT').innerText = AreaData.records.locations[0].location[0].weatherElement[4].time[0].elementValue[0].value + '°C'
            $id('MaxT').innerText = AreaData.records.locations[0].location[0].weatherElement[6].time[0].elementValue[0].value + '°C'
            $id('PoP').innerText = AreaData.records.locations[0].location[0].weatherElement[0].time[0].elementValue[0].value + '%'
            $id('RH').innerText = AreaData.records.locations[0].location[0].weatherElement[2].time[0].elementValue[0].value + '%'
        }

    </script>
</body>
</html>